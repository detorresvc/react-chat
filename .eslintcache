[{"/Users/vincentc.detorres/learn/chat/src/App.js":"1","/Users/vincentc.detorres/learn/chat/src/index.js":"2","/Users/vincentc.detorres/learn/chat/src/reportWebVitals.js":"3","/Users/vincentc.detorres/learn/chat/src/scenes/login/Login.js":"4","/Users/vincentc.detorres/learn/chat/src/components/Icon.js":"5","/Users/vincentc.detorres/learn/chat/src/components/InputText.js":"6","/Users/vincentc.detorres/learn/chat/src/components/InputWithLabel.js":"7","/Users/vincentc.detorres/learn/chat/src/components/Button.js":"8","/Users/vincentc.detorres/learn/chat/src/graphql/client.js":"9","/Users/vincentc.detorres/learn/chat/src/scenes/main/Main.js":"10","/Users/vincentc.detorres/learn/chat/src/components/index.js":"11","/Users/vincentc.detorres/learn/chat/src/components/partials/RightPane.js":"12","/Users/vincentc.detorres/learn/chat/src/container/room/Room.js":"13","/Users/vincentc.detorres/learn/chat/src/container/message/Message.js":"14","/Users/vincentc.detorres/learn/chat/src/container/message/FormMessage.js":"15","/Users/vincentc.detorres/learn/chat/src/components/partials/Container.js":"16","/Users/vincentc.detorres/learn/chat/src/container/message/PlaceHolderAttachment.js":"17"},{"size":745,"mtime":1606741106377,"results":"18","hashOfConfig":"19"},{"size":618,"mtime":1606536381233,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":1606531828727,"results":"21","hashOfConfig":"19"},{"size":2545,"mtime":1606741162985,"results":"22","hashOfConfig":"19"},{"size":6205,"mtime":1606979674319,"results":"23","hashOfConfig":"19"},{"size":181,"mtime":1606535484778,"results":"24","hashOfConfig":"19"},{"size":178,"mtime":1606535514416,"results":"25","hashOfConfig":"19"},{"size":181,"mtime":1606535713349,"results":"26","hashOfConfig":"19"},{"size":2634,"mtime":1606971909014,"results":"27","hashOfConfig":"19"},{"size":1266,"mtime":1606899724288,"results":"28","hashOfConfig":"19"},{"size":379,"mtime":1606747673689,"results":"29","hashOfConfig":"19"},{"size":132,"mtime":1606747610159,"results":"30","hashOfConfig":"19"},{"size":2874,"mtime":1606903132294,"results":"31","hashOfConfig":"19"},{"size":5456,"mtime":1606979407854,"results":"32","hashOfConfig":"19"},{"size":2259,"mtime":1606979139026,"results":"33","hashOfConfig":"19"},{"size":146,"mtime":1606747585051,"results":"34","hashOfConfig":"19"},{"size":901,"mtime":1606979746818,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1uux0i6",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/vincentc.detorres/learn/chat/src/App.js",[],"/Users/vincentc.detorres/learn/chat/src/index.js",[],["73","74"],"/Users/vincentc.detorres/learn/chat/src/reportWebVitals.js",[],"/Users/vincentc.detorres/learn/chat/src/scenes/login/Login.js",[],"/Users/vincentc.detorres/learn/chat/src/components/Icon.js",[],"/Users/vincentc.detorres/learn/chat/src/components/InputText.js",[],"/Users/vincentc.detorres/learn/chat/src/components/InputWithLabel.js",[],["75","76"],"/Users/vincentc.detorres/learn/chat/src/components/Button.js",[],"/Users/vincentc.detorres/learn/chat/src/graphql/client.js",["77","78","79"],"/Users/vincentc.detorres/learn/chat/src/scenes/main/Main.js",[],"/Users/vincentc.detorres/learn/chat/src/components/index.js",[],"/Users/vincentc.detorres/learn/chat/src/components/partials/RightPane.js",[],"/Users/vincentc.detorres/learn/chat/src/container/room/Room.js",["80"],"\nimport React,{ useEffect } from 'react';\nimport { useQuery, gql } from 'graphql/client';\nimport moment from 'moment';\n\nconst ROOM_LIST = gql`\nquery getUserRoom {\n  userRooms {\n    id,\n    name,\n    user_id,\n    created_at,\n    updated_at,\n    latest_message {\n      message\n    }\n  }\n}\n`;\n\nconst ROOM_ADDED = gql`\nsubscription OnRoomAdded{\n  roomAdded {\n    id\n    name,\n    user_id,\n    created_at,\n    updated_at,\n    latest_message {\n      message\n    }\n  }\n}\n`;\n\nconst ROOM_UPDATED = gql`\nsubscription OnRoomUpdated{\n  roomUpdated {\n    id\n    name,\n    user_id,\n    created_at,\n    updated_at,\n    latest_message {\n      message\n    }\n  }\n}\n`;\n\nfunction Room({ onSelect, selected }){\n\n  const { data: { userRooms } = { userRooms: [] }, subscribeToMore, startPolling, stopPolling } = useQuery(ROOM_LIST, { \n    notifyOnNetworkStatusChange: true,\n    pollInterval: 60000\n   })\n  \n  useEffect(() => {  \n    return () => {\n      stopPolling()\n    }\n  }, [startPolling, stopPolling])\n\n  const subscribeToNewRoom = () => {\n    return subscribeToMore({\n      document: ROOM_ADDED,\n      updateQuery: (prev, { subscriptionData }) => {\n        if (!subscriptionData.data) return prev;\n  \n        const newFeedItem = subscriptionData.data.roomAdded;\n        return {\n          userRooms: [\n            newFeedItem,\n            ...prev.userRooms, \n          ]\n        }\n      }\n    })\n  }\n\n  const subscribeToUpdatedRoom = () => {\n    return subscribeToMore({\n      document: ROOM_UPDATED,\n      updateQuery: (prev, { subscriptionData }) => {\n        if (!subscriptionData.data) return prev;\n        \n        const newFeedItem = subscriptionData.data.roomUpdated;\n        \n        return {\n          userRooms: prev.userRooms.map(prevRoom => {\n            \n            if(+prevRoom.id === +newFeedItem.id)\n              return newFeedItem\n            return prevRoom\n          })\n        }\n      }\n    })\n  }\n\n  useEffect(() => {\n    subscribeToNewRoom()\n    subscribeToUpdatedRoom()\n  }, [])\n\n  return (\n    <div \n      className=\"flex flex-col\"\n    >\n      {userRooms.map(room => {\n\n        const m1 = moment(new Date());\n        const m2 = moment(room.updated_at, \"MM/DD/YYYY HH:mm:ss A\");\n\n        return (\n          <div \n            onClick={onSelect(room)}\n            key={`${room.type}${room.id}`} \n            className={`h-20 overflow-hidden border-b border-gray-300 flex items-center p-2 ${room.id === selected ? 'bg-gray-100' : ''}`}>\n            <div className=\"flex flex-col w-full\">\n              <p>{room.name}</p>\n              <div className=\"flex\">\n                <p className=\"text-xs flex-1 truncate\">{room.latest_message?.message}</p>\n                <p className=\"text-xs self-justify-end\">{moment.duration(m2.diff(m1)).humanize(true)}</p>\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Room","/Users/vincentc.detorres/learn/chat/src/container/message/Message.js",["81","82","83"],"/Users/vincentc.detorres/learn/chat/src/container/message/FormMessage.js",[],"/Users/vincentc.detorres/learn/chat/src/components/partials/Container.js",[],"/Users/vincentc.detorres/learn/chat/src/container/message/PlaceHolderAttachment.js",["84"],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"85","replacedBy":"89"},{"ruleId":"87","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":1,"column":73,"nodeType":"93","messageId":"94","endLine":1,"endColumn":87},{"ruleId":"91","severity":1,"message":"95","line":24,"column":7,"nodeType":"93","messageId":"94","endLine":24,"endColumn":17},{"ruleId":"91","severity":1,"message":"96","line":85,"column":7,"nodeType":"93","messageId":"94","endLine":85,"endColumn":19},{"ruleId":"97","severity":1,"message":"98","line":104,"column":6,"nodeType":"99","endLine":104,"endColumn":8,"suggestions":"100"},{"ruleId":"91","severity":1,"message":"101","line":77,"column":16,"nodeType":"93","messageId":"94","endLine":77,"endColumn":23},{"ruleId":"97","severity":1,"message":"102","line":177,"column":6,"nodeType":"99","endLine":177,"endColumn":8,"suggestions":"103"},{"ruleId":"97","severity":1,"message":"104","line":192,"column":6,"nodeType":"99","endLine":192,"endColumn":18,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":24,"column":7,"nodeType":"108","endLine":24,"endColumn":82},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],["109"],["110"],"no-unused-vars","'createHttpLink' is defined but never used.","Identifier","unusedVar","'uploadLink' is assigned a value but never used.","'typePolicies' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'subscribeToNewRoom' and 'subscribeToUpdatedRoom'. Either include them or remove the dependency array.","ArrayExpression",["111"],"'setPage' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'subscribeToNewMessage'. Either include it or remove the dependency array.",["112"],"React Hook useEffect has a missing dependency: 'onHandlefetchMore'. Either include it or remove the dependency array.",["113"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},{"desc":"118","fix":"119"},"Update the dependencies array to be: [subscribeToNewRoom, subscribeToUpdatedRoom]",{"range":"120","text":"121"},"Update the dependencies array to be: [subscribeToNewMessage]",{"range":"122","text":"123"},"Update the dependencies array to be: [onHandlefetchMore, pagination]",{"range":"124","text":"125"},[1984,1986],"[subscribeToNewRoom, subscribeToUpdatedRoom]",[3478,3480],"[subscribeToNewMessage]",[3786,3798],"[onHandlefetchMore, pagination]"]